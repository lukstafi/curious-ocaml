\documentclass{article}
\usepackage[english]{babel}
\usepackage{geometry,amsmath,hyperref,theorem}
\geometry{letterpaper}

%%%%%%%%%% Start TeXmacs macros
\catcode`\>=\active \def>{
\fontencoding{T1}\selectfont\symbol{62}\fontencoding{\encodingdefault}}
\newcommand{\tmdummy}{$\mbox{}$}
\newcommand{\tmem}[1]{{\em #1\/}}
\newcommand{\tmstrong}[1]{\textbf{#1}}
\newcommand{\tmverbatim}[1]{\text{{\ttfamily{#1}}}}
{\theorembodyfont{\rmfamily\small}\newtheorem{exercise}{Exercise}}
%%%%%%%%%% End TeXmacs macros

\begin{document}

{\class{Functional Programming}}

{\title{Mapping and folding

List-based backtracking}}

\begin{exercise}
  Recall how we generated all subsequences of a list. Find (i.e. generate)
  all:
  \begin{enumerate}
    \item permutations of a list;
    
    \item ways of choosing without repetition from a list;
    
    \item combinations of K distinct objects chosen from the N elements of a
    list.
  \end{enumerate}
\end{exercise}

\begin{exercise}
  Using folding for the \tmverbatim{expression} data type, compute the degree
  of the corresponding polynomial. See
  \href{http://en.wikipedia.org/wiki/Degree_of_a_polynomial}{http://en.wikipedia.org/wiki/Degree\_of\_a\_polynomial}.
\end{exercise}

\begin{exercise}
  Implement simplification of expressions using mapping for the
  \tmverbatim{expression} data type.
\end{exercise}

\begin{exercise}
  Express in terms of \tmverbatim{fold\_left} or \tmverbatim{fold\_right}:
  \begin{enumerate}
    \item {\hlstd{indexed }}{\hlopt{: }}{\hlstr{'}}{\hlstd{a list }}{\hlopt{->
    (}}{\hlkwb{int }}{\hlopt{* }}{\hlstr{'}}{\hlstd{a}}{\hlopt{)
    }}{\hlstd{list}}, which pairs elements with their indices in the list;
    
    \item * \tmverbatim{concat\_fold}, as used in the solution of {\tmem{Honey
    Islands}} puzzle:
    \begin{itemize}
      \item {\hlkwa{let rec }}{\hlstd{concat{\textunderscore}fold f a
      }}{\hlopt{= }}{\hlkwa{function}}{\hlendline{}}\\
      {\hlstd{ \ }}{\hlopt{\textbar  [] ->
      [}}{\hlstd{a}}{\hlopt{]}}{\hlendline{}}\\
      {\hlstd{ \ {\hlopt{\textbar}} x}}{\hlopt{::}}{\hlstd{xs }}{\hlopt{->
      }}{\hlendline{}}\\
      {\hlstd{ \ \ \ f x a {\hlopt{\textbar}}}}{\hlopt{-> (}}{\hlkwa{fun
      }}{\hlstd{a' }}{\hlopt{-> }}{\hlstd{concat{\textunderscore}fold f a'
      xs}}{\hlopt{)}}{\hlendline{}}
      
      \item Hint -- consider the function:\\
      {\hlkwa{let rec }}{\hlstd{concat{\textunderscore}foldl f a }}{\hlopt{=
      }}{\hlkwa{function}}{\hlendline{}}\\
      {\hlstd{ \ }}{\hlopt{\textbar  [] -> }}{\hlstd{a{\hlendline{}}\\
      \ {\hlopt{\textbar}} x}}{\hlopt{::}}{\hlstd{xs }}{\hlopt{->
      }}{\hlstd{concat{\textunderscore}foldl f
      }}{\hlopt{(}}{\hlstd{concat{\textunderscore}map }}{\hlopt{(}}{\hlstd{f
      x}}{\hlopt{) }}{\hlstd{a}}{\hlopt{) }}{\hlstd{xs}}{\hlendline{}}
    \end{itemize}
    \item run-length encoding of a list (exercise 10 from {\tmem{99
    Problems}}).
    \begin{itemize}
      \item \tmverbatim{encode [`a;`a;`a;`a;`b;`c;`c;`a;`a;`d] = [4,`a; 1,`b;
      2,`c; 2,`a; 1,`d]}
    \end{itemize}
  \end{enumerate}
\end{exercise}

\begin{exercise}
  {\tmdummy}
  
  \begin{enumerate}
    \item Write a more efficient variant of \tmverbatim{list\_diff} that
    computes the difference of sets represented as sorted lists.
    
    \item \tmverbatim{is\_unique} in the provided code takes quadratic time --
    optimize it.
  \end{enumerate}
\end{exercise}

\begin{exercise}
  Write functions \tmverbatim{compose} and \tmverbatim{perform} that take a
  list of functions and return their composition, i.e. a function
  \tmverbatim{compose [f1; $\ldots$; fn] = x $\mapsto$ f1 ($\ldots$ (fn
  x)$\ldots$)} and \tmverbatim{perform [f1; $\ldots$; fn] = x $\mapsto$ fn
  ($\ldots$ (f1 x)$\ldots$)}.
\end{exercise}

\begin{exercise}
  Write a solver for the {\tmem{Tents Puzzle}}
  \href{http://www.mathsisfun.com/games/tents-puzzle.html}{http://www.mathsisfun.com/games/tents-puzzle.html}.
\end{exercise}

\begin{exercise}
  * {\tmstrong{Robot Squad}}. We are given a map of terrain with empty spaces
  and walls, and lidar readings for multiple robots, 8 readings of the
  distance to wall or another robot, for each robot. Robots are equipped with
  compasses, the lidar readings are in directions E, NE, N, NW, W, \ SW, S,
  SE. Determine the possible positions of robots.
\end{exercise}

\begin{exercise}
  * Write a solver for the {\tmem{Plinx Puzzle}}
  \href{http://www.mathsisfun.com/games/plinx-puzzle.html}{http://www.mathsisfun.com/games/plinx-puzzle.html}.
  It does not need to always return correct solutions but it should correctly
  solve the initial levels from the game.
\end{exercise}

\end{document}
